<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
    <head>
        <meta charset="UTF-8">
        <title>Mediscreen</title>
        <link rel="stylesheet" th:href="@{/css/styles.css}">
    </head>
    <body>
        <header>
            <h1>Mediscreen</h1>
        </header>

        <section>
            <p>Welcome to Mediscreen.</p>
            <h2>List of Patients</h2>
            <table border="1">
                <thead>
                <tr>
                    <th>Family Name</th>
                    <th>Given Name</th>
                    <th>Date of Birth</th>
                    <th>Sex</th>
                    <th>Address</th>
                    <th>Phone Number</th>
                </tr>
                </thead>
                <tbody>
                <!-- Iterate through the list of patients -->
                <tr th:each="patient : ${patients}">
                    <td th:text="${patient.family}">family name</td>
                    <td th:text="${patient.given}">given name</td>
                    <td th:text="${patient.dob}">date of birth</td>
                    <td th:text="${patient.sex}">sex</td>
                    <td th:text="${patient.address}">address</td>
                    <td th:text="${patient.phone}">phone number</td>
                    <td th:text="${patient.id}">id</td>
                    <td>
                        <button>Edit</button>
                        <form th:action="@{/patient/delete/{id}(id=${patient.id})}" method="post">
                            <button type="submit" class="btn btn-danger">Delete</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>

            <br>
            <form th:action="@{/patient}" method="get">
                <button type="submit">Add New Patient</button>
            </form>
        </section>

        <footer>
            <p>&copy; 2025 Mediscreen</p>
        </footer>
    </body>
</html>
